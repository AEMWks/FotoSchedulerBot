<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feed de Fotos - Diario Visual</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üì∏</text></svg>">
</head>
<body>
    <!-- Navigation Header -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <span class="brand-icon">üì∏</span>
                <span class="brand-text">Diario Visual</span>
            </div>

            <div class="nav-menu">
                <a href="index.html" class="nav-link active">
                    <span class="nav-icon">üè†</span>
                    Feed
                </a>
                <a href="dashboard.html" class="nav-link">
                    <span class="nav-icon">üìä</span>
                    Dashboard
                </a>
                <button id="theme-toggle" class="theme-btn" title="Cambiar tema">
                    <span class="theme-icon">üåô</span>
                </button>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Header with Stats -->
        <div class="header-card">
            <div class="header-content">
                <h1>üì∏ Feed de Fotos</h1>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-number" id="total-photos">0</span>
                        <span class="stat-label">Fotos totales</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="days-active">0</span>
                        <span class="stat-label">D√≠as activos</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="this-week">0</span>
                        <span class="stat-label">Esta semana</span>
                    </div>
                </div>
            </div>

            <!-- Feed Controls -->
            <div class="feed-controls">
                <button id="refresh-btn" class="control-btn" title="Actualizar feed">
                    <span class="btn-icon">üîÑ</span>
                    Actualizar
                </button>
                <button id="slideshow-btn" class="control-btn" title="Iniciar presentaci√≥n">
                    <span class="btn-icon">‚ñ∂Ô∏è</span>
                    Slideshow
                </button>
                <div class="auto-refresh-control">
                    <label class="switch">
                        <input type="checkbox" id="auto-refresh" checked>
                        <span class="slider"></span>
                    </label>
                    <span class="switch-label">Auto-refresh</span>
                </div>
            </div>
        </div>

        <!-- Loading Indicator -->
        <div id="loading" class="loading-card" style="display: none;">
            <div class="loading-content">
                <div class="spinner"></div>
                <span>Cargando fotos...</span>
            </div>
        </div>

        <!-- Feed Container -->
        <div class="feed-container" id="feedContainer">
            <div class="no-photos">
                <div class="no-photos-icon">üì∑</div>
                <h3>Cargando tu feed de fotos...</h3>
                <p>Tus recuerdos aparecer√°n aqu√≠</p>
            </div>
        </div>

        <!-- Load More / End Indicators -->
        <div class="load-more-indicator" id="loadMoreIndicator" style="display: none;">
            <div class="indicator-content">
                <span class="indicator-icon">üì∏</span>
                <span>Cargando m√°s recuerdos...</span>
            </div>
        </div>

        <div class="end-of-feed" id="endOfFeed" style="display: none;">
            <div class="end-content">
                <span class="end-icon">üéâ</span>
                <h3>¬°Has llegado al final!</h3>
                <p>No hay m√°s fotos que mostrar</p>
                <button onclick="scrollToTop()" class="scroll-top-btn">
                    <span>‚¨ÜÔ∏è</span> Ir al inicio
                </button>
            </div>
        </div>
    </div>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox">
        <div class="lightbox-controls">
            <button class="lightbox-btn" onclick="previousMedia()" title="Anterior">‚Äπ</button>
            <button class="lightbox-btn" onclick="nextMedia()" title="Siguiente">‚Ä∫</button>
            <button class="lightbox-btn" onclick="downloadMedia()" title="Descargar">‚¨áÔ∏è</button>
            <button class="lightbox-btn lightbox-close" onclick="closeLightbox()" title="Cerrar">√ó</button>
        </div>
        <div class="lightbox-content-wrapper">
            <img class="lightbox-content" id="lightboxContent">
            <video class="lightbox-content" id="lightboxVideo" controls style="display: none;">
                <source id="lightboxVideoSource" type="video/mp4">
            </video>
        </div>
        <div class="lightbox-info">
            <span class="lightbox-date" id="lightboxDate"></span>
            <span class="lightbox-time" id="lightboxTime"></span>
        </div>
    </div>

    <!-- Slideshow Mode -->
    <div class="slideshow-overlay" id="slideshowOverlay" style="display: none;">
        <div class="slideshow-controls">
            <button onclick="pauseSlideshow()" id="slideshow-pause" class="slideshow-btn">‚è∏Ô∏è</button>
            <button onclick="stopSlideshow()" class="slideshow-btn">‚èπÔ∏è</button>
            <span class="slideshow-progress" id="slideshow-progress">1 / 10</span>
        </div>
        <div class="slideshow-content">
            <img id="slideshow-image" class="slideshow-media">
            <video id="slideshow-video" class="slideshow-media" style="display: none;" muted>
                <source id="slideshow-video-source" type="video/mp4">
            </video>
        </div>
        <div class="slideshow-info">
            <h3 id="slideshow-date"></h3>
            <p id="slideshow-time"></p>
        </div>
    </div>

    <script src="feed.js"></script>
</body>
</html>
